
## Бизнес-процессы

### 1. Создание проекта
   - **Шаг 1**: Пользователь запускает приложение и выбирает пункт меню «Создать проект».
   - **Шаг 2**: Указываются исходный язык, язык перевода, используемая модель нейросети и папка для документов.
   - **Шаг 3**: При необходимости подключается существующий глоссарий или создаётся новый.
   - **Шаг 4**: Проект сохраняется и появляется в списке проектов.

### 2. Пакетная работа по главам
   - **Шаг 1**: Пользователь указывает папки для загрузки оригинала и перевода.
   - **Шаг 2**: Приложение сканирует папки облака (например, Google Docs) и строит список глав, загружает текст первой главы в левое поле.
   - **Шаг 3**: После выбора главы, система генерирует промпт для модели в окне мини-промта, и пользователь вносит изменения и подтверждает промпт. Система отправляет запрос выбранной пользователем нейросети.
   - **Шаг 4**: Перевод отображается в правом поле, где пользователь может редактировать текст.
   - **Шаг 5**: После редактирования, пользователь сохраняет результат в указанную папку (документы автоматически сохраняются по шаблону — "глава 1 - глава 100", также пользователь может настроить этот пункт в настройках).

### 3. Работа с глоссариями
   - **Шаг 1**: Пользователь открывает раздел «Глоссарий» и видит таблицу пар слов.
   - **Шаг 2**: В интерфейсе можно добавлять, удалять и редактировать пары слов, фильтровать записи и искать по ключевому слову.
   - **Шаг 3**: Глоссарий автоматически подключается к промпту при переводе текста (пары слов вставляются системой в поле мини-промт внизу).
   - **Шаг 4**: При необходимости глоссарий можно импортировать из файла или экспортировать для дальнейшего использования.

### 4. Использование контекстных синонимов
   - **Шаг 1**: При клике на слово в переводе система формирует мини-промт вида «Подбери контекстные синонимы для …» и отправляет его выбранной модели.
   - **Шаг 2**: Пользователь получает список синонимов и может заменить исходное слово.
   - **Шаг 3**: В настройках можно выбрать, будет ли нейросеть анализировать контекст для предложений синонимов или только система приложения.

### 5. Мини-промты
   - Используются для уточнения задач модели: перевода главы, подбора синонимов, применения глоссария.
   - Пользователь может вручную редактировать текст мини-промта перед отправкой, добавляя инструкции или исключения.
   - После генерации ответа результат отображается в соответствующем поле UI.

### 6. Ограничения
   - При работе с моделью Google Gemini учитываются региональные ограничения: если модель недоступна в регионе пользователя, приложение уведомляет об этом и предлагает выбрать другую модель.

### Бизнес-логика сохранения и экспорта:
1. Переведённый текст сохраняется автоматически после подтверждения пользователем или вручную по нажатию кнопки «Сохранить».
2. Документы сохраняются в форматах **DOCX** или **TXT** в зависимости от настроек пользователя, возможен экспорт всего проекта в виде архива.
3. При сохранении данных возможен автоматический переход к следующей главе или продолжение работы с текущей (режим задаётся в настройках).
4. Глоссарий сохраняется в проекте и может быть экспортирован отдельным файлом для обмена или резервного копирования.

